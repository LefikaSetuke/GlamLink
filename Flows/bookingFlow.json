{
  "start_node": "greeting",
  "nodes": {
    "greeting": {
      "id": "greeting",
      "type": "info",
      "message": "👋 Welcome to GlamLink! Browse our top stylists and book your service.",
      "next": {
        "type": "auto",
        "target": "main_menu"
      }
    },
    "main_menu": {
      "id": "main_menu",
      "type": "options",
      "message": "✨ Main Menu:\n1️⃣ Browse Stylists\n2️⃣ View My Bookings\n3️⃣ Contact Support",
      "options": ["1", "2", "3", "Browse Stylists", "View My Bookings", "Contact Support"],
      "data_key": "mainMenuChoice",
      "option_routes": {
        "1": "select_service",
        "2": "view_bookings",
        "3": "contact_support",
        "Browse Stylists": "select_service",
        "View My Bookings": "view_bookings",
        "Contact Support": "contact_support"
      }
    },
    "select_service": {
      "id": "select_service",
      "type": "options",
      "message": "💄 Select a service to filter stylists:\n1️⃣ Makeup\n2️⃣ Nails\n3️⃣ Hair Cut\n4️⃣ Hairstyles\n5️⃣ All Services",
      "options": ["1", "2", "3", "4", "5", "Makeup", "Nails", "Hair Cut", "Hairstyles", "All Services"],
      "data_key": "selectedService",
      "option_routes": {
        "1": "browse_stylists_filtered",
        "2": "browse_stylists_filtered",
        "3": "browse_stylists_filtered",
        "4": "browse_stylists_filtered",
        "5": "browse_stylists",
        "Makeup": "browse_stylists_filtered",
        "Nails": "browse_stylists_filtered",
        "Hair Cut": "browse_stylists_filtered",
        "Hairstyles": "browse_stylists_filtered",
        "All Services": "browse_stylists"
      }
    },
    "browse_stylists_filtered": {
      "id": "browse_stylists_filtered",
      "type": "dynamic_options",
      "message": "💇 Stylists offering {session.data.selectedService}:\n\n{session.data.filteredStylists}\n\n👉 Reply with the stylist name or number to continue.",
      "options_source": "filteredStylists",
      "data_key": "selectedStylist",
      "next": {
        "on_success": "stylist_details",
        "on_failure": "error"
      }
    },
    "browse_stylists": {
      "id": "browse_stylists",
      "type": "dynamic_options",
      "message": "💇 Available Stylists:\n\n{session.data.stylists}\n\n👉 Reply with the stylist name or number to continue.",
      "options_source": "stylists",
      "data_key": "selectedStylist",
      "next": {
        "on_success": "stylist_details",
        "on_failure": "error"
      }
    },
    "stylist_details": {
      "id": "stylist_details",
      "type": "options",
      "message": "👩‍🎨 Stylist: {session.data.selectedStylist.stylistName}\n📞 Phone: {session.data.selectedStylist.phoneNumber}\n💅 Services: {session.data.selectedStylist.services}\n🗓️ Available Slots: {session.data.selectedStylist.availableSlots}\n💳 Payment Methods: {session.data.selectedStylist.paymentMethods}\n\n1️⃣ Book a Slot\n2️⃣ Back to Services\n3️⃣ Main Menu",
      "options": ["1", "2", "3", "Book a Slot", "Back to Services", "Main Menu"],
      "data_key": "stylistAction",
      "option_routes": {
        "1": "book_slot",
        "2": "select_service",
        "3": "main_menu",
        "Book a Slot": "book_slot",
        "Back to Services": "select_service",
        "Main Menu": "main_menu"
      }
    },
    "book_slot": {
      "id": "book_slot",
      "type": "dynamic_options",
      "message": "🗓️ Available Slots for {session.data.selectedStylist.stylistName}:\n\n{session.data.selectedStylist.availableSlots}\n\n👉 Reply with the slot number or exact time.",
      "options_source": "selectedStylist.availableSlots",
      "data_key": "selectedSlot",
      "next": {
        "on_success": "confirm_booking",
        "on_failure": "error"
      }
    },
    "confirm_booking": {
      "id": "confirm_booking",
      "type": "info",
      "message": "✅ Booking confirmed!\n\n👩‍🎨 Stylist: {session.data.selectedStylist.stylistName}\n🗓️ Slot: {session.data.selectedSlot}\n📞 Phone: {session.data.selectedStylist.phoneNumber}\n💳 Payment Methods: {session.data.selectedStylist.paymentMethods}\n\n👉 You’ll receive a reminder before your appointment.",
      "next": {
        "target": "main_menu"
      }
    },
    "view_bookings": {
      "id": "view_bookings",
      "type": "info",
      "message": "📅 You currently have no bookings.\nReturn to main menu to make a booking.",
      "next": {
        "target": "main_menu"
      }
    },
    "contact_support": {
      "id": "contact_support",
      "type": "info",
      "message": "📞 For support, call +26671018609",
      "next": {
        "target": "main_menu"
      }
    },
    "error": {
      "id": "error",
      "type": "info",
      "message": "❌ Unable to load stylists. Please try again later.",
      "next": {
        "target": "main_menu"
      }
    }
  },
  "stylists": [
    {
      "stylistName": "Nomhle",
      "phoneNumber": "+26650123456",
      "services": ["Makeup", "Nails"],
      "availableSlots": ["2025-09-05T10:00:00", "2025-09-05T12:00:00", "2025-09-05T14:00:00"],
      "paymentMethods": ["Credit Card", "Cash"]
    },
    {
      "stylistName": "Lefika",
      "phoneNumber": "+26650123457",
      "services": ["Hair Cut"],
      "availableSlots": ["2025-09-05T09:00:00", "2025-09-05T11:00:00", "2025-09-05T15:00:00"],
      "paymentMethods": ["Cash"]
    },
    {
      "stylistName": "Faith",
      "phoneNumber": "+26650123458",
      "services": ["Hairstyles", "Nails"],
      "availableSlots": ["2025-09-05T08:00:00", "2025-09-05T13:00:00", "2025-09-05T16:00:00"],
      "paymentMethods": ["Credit Card", "Cash"]
    },
    {
      "stylistName": "Lineo",
      "phoneNumber": "+26650123459",
      "services": ["Makeup", "Hairstyles"],
      "availableSlots": ["2025-09-05T10:30:00", "2025-09-05T12:30:00", "2025-09-05T17:00:00"],
      "paymentMethods": ["Credit Card", "Cash"]
    },
    {
      "stylistName": "Mpho",
      "phoneNumber": "+26650123460",
      "services": ["Nails", "Makeup"],
      "availableSlots": ["2025-09-05T09:30:00", "2025-09-05T11:30:00", "2025-09-05T15:30:00"],
      "paymentMethods": ["Credit Card", "Cash"]
    }
  ]
}
